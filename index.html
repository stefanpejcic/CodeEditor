<!DOCTYPE html>
<html lang="en-US">
    <head>
        <title>Code Editor</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Code Editor for HTML, CSS and JS">
        <meta name="keywords" content="code editor, html editor"/>
        <meta name="author" content="Stefan Pejcic">
        <meta name="robots" content="index,follow">
	    
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i,700,700i,800,800i&amp;subset=latin-ext" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Barlow+Condensed:300,300i,400,400i,500,500i,700,700i,800,800i,900,900i%7CPT+Sans:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
        <link rel="stylesheet" href="css/style.css" media="screen" />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="js/jquery.min.js"></script>
    </head>


    <body>
    
    	<nav class="navbar navbar-light navbar-expand-md bg-light justify-content-center">
		    <a href="/" class="navbar-brand mr-0">CodePlayer</a> 
		    <button class="navbar-toggler ml-1" type="button" data-toggle="collapse" data-target="#collapsingNavbar2">
		        <span class="navbar-toggler-icon"></span>
		    </button>
		    <div class="navbar-collapse collapse justify-content-between align-items-center w-100" id="collapsingNavbar2">
		        <ul class="navbar-nav mx-auto text-center" id="nav_">
		            <li class="nav-item toggle selected">HTML</li>
		            <li class="nav-item toggle">CSS</li>
		            <li class="nav-item toggle">JS</li>
		            <li class="nav-item toggle selected">RESULT</li>
		        </ul>
		        <button class="btn btn-outline-primary" id="runButton">RUN</button>
		    </div>
		</nav>

		<div class="clear"></div>

		<div class="codeContainer" id="HTMLContainer">
			<div class="codeLabel">HTML</div>
			<textarea id="htmlCode"></textarea>
		</div>

		<div class="codeContainer" id="CSSContainer">
			<div class="codeLabel">CSS</div>
			<textarea id="cssCode"></textarea>
		</div>

		<div class="codeContainer" id="JSContainer">
			<div class="codeLabel">JS</div>
			<textarea id="jsCode"></textarea>
		</div>

		<div class="codeContainer" id="ResultContainer">
			<div class="codeLabel">RESULT</div>
			<iframe id="resultFrame"></iframe>
		</div>



        <script type="text/javascript">

        	var windowHeight = $(window).height();
        	var navBarHeigth = $("nav").height();
        	var codeContainerHeight = windowHeight - navBarHeigth;

        	$(".codeContainer").height(codeContainerHeight+"px");

        	$(".toggle").click(function() {

        		$(this).toggleClass("selected");

        		var activeDiv = $(this).html();

        		$("#"+activeDiv+"Container").toggle();

        		var showingDiv = $(".codeContainer").filter(function(){

        			return($(this).css("display") != "none");

        		}).length;

        		var width = 100/showingDiv;


        		$(".codeContainer").css("width", width+"%");

        	});

        	$("#runButton").click(function() {

        		$("iframe").contents().find("html").html('<style>'+$("#cssCode").val()+'</style>'+$("#htmlCode").val());

        	});

        	document.getElementById("resultFrame").contentWindow.eval($("#jsCode").val());


        </script>
	    
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
    </body>
</html>
